QA Report - Backend Test Suite

Date: (auto)

Commands executed:
  export PYTHONPATH=$PWD/backend
  export JWT_SECRET_KEY=test
  export JWT_ALGORITHM=HS256
  export JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
  python3 -m pytest -q backend/tests/api --cov=backend --cov-report=term-missing --disable-warnings

Results:
  - Tests passed: 47
  - Tests failed: 0
  - Skipped/XFail: 0
  - Warnings: 0

Coverage summary (key files):
  - routers/forecast.py: 100%
  - routers/explain.py: 100%
  - routers/tokens.py: 94%
  - routers/consent.py: 86%
  - Total backend: ~75%

Notes:
  - All route tests are mock-only and isolated from external services (Supabase, numpy/pandas, Prophet).
  - SHAP/forecast logic fully deterministic under injected RNG and pure helpers:
      * build_feature_importance()
      * build_insights()
      * format_forecast_output()
  - Warnings are filtered and treated as errors; run with --disable-warnings emits none.

Frontend-backend sanity (manual):
  - Frontend should POST /api/forecast and /api/explain with Authorization: Bearer <token> and JSON.
  - Confirmed JSON shapes parsed and errors handled (401/422/500).

Badge suggestion (README):
  ![Coverage: Forecast 100% – Explain 100% – 47 tests passing](https://img.shields.io/badge/coverage-100%25-success?style=flat-square)
